<div class="interview-panel">

    <h4>Интервью</h4>

    <form name="templateForm" class="form-horizontal" novalidate>
        <div class="control-group">
            <label class="control-label" for="name">Название:</label>
            <div class="controls">
                <input ng-model="template.name" class="input-xxlarge" id="name" placeholder="Название" focus required>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="description">Описание:</label>
            <div class="controls">
                <textarea ng-model="template.description"
                          class="input-xxlarge"
                          placeholder="Описание" id="description" required></textarea>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="active">Активно:</label>
            <div class="controls">
                <input type="checkbox" ng-model="template.active"
                          class="input-large"
                          id="active"/>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="order">Очередность:</label>
            <div class="controls">
                <input type="number" min="0" ng-model="template.order"
                          class="input-large"
                          id="order"/>
            </div>
        </div>

        <div ng-controller="EditQuestionCtrl">
          <table class='table table-hover table-striped'>
            <tr>
              <th>#</th><th>Вопрос</th><th>Характеристика</th><th>Тип</th><th>Эффект</th><th></th>
            </tr>
            <tr ng-repeat="question in template.questions">
              <td>{{$index+1}}</td>
              <td><textarea ng-model="question.text" class="input-large" placeholder="Вопрос" required></textarea></td>
              <td><select ng-model="question.trait" class="input-medium"
                          ng-options="t.name as t.description for t in traits"></select></td>
              <td><select ng-model="question.type" class="input-medium"
                          ng-options="q.type as q.name for q in questionTypes" ng-change="typeChanged($index)"></select></td>
              <td><select ng-model="question.valueEffect" class="input-small"
                          ng-options="e.type as e.name for e in valueEffects" ng-show="showEffect($index)"></select></td>
              <td><button type="button"
                          class="btn btn-small"
                          ng-click="removeQuestion($index)">
                <i class="icon-minus-sign"></i> Удалить </button>
              </td>
            </tr>
          </table>

          <button type="button" class="btn btn-small" ng-click="addQuestion()">
              <i class="icon-plus-sign"></i> Добавить </button>
        </div>

        <div class="form-actions">
            <button class="btn" ng-click="cancel()">Отменить</button>
            <button class="btn btn-primary" ng-disabled="templateForm.$invalid" ng-click="save()">Сохранить</button>
<!--
            <button type="button"
                    ng-click="remove()"
                    ng-show="template.id"
                    class="btn">Удалить</button>
-->
        </div>
    </form>

<!--
    Debug View:
    <pre>template={{template}}</pre>
-->

</div>
